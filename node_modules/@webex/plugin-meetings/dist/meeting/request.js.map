{"version":3,"sources":["request.js"],"names":["MeetingRequest","attrs","options","changeVideoLayoutDebounced","changeVideoLayout","leading","trailing","sipUri","deviceUrl","locusUrl","resourceId","correlationId","ensureConversation","moderator","pin","moveToResource","roapMessage","preferTranscoding","LoggerProxy","logger","info","url","body","device","deviceType","config","meetings","usingResource","moveMediaToResource","respOnlySdp","allowMultiDevice","supportsNativeLobby","clientMediaPreferences","webex","clientRegion","countryCode","regionCode","undefined","PARTICIPANT","internal","services","waitForCatalog","get","LOCI","CALL","invitee","address","error","concat","ALTERNATE_REDIRECT_TRUE","callPreferences","requestedMedia","_SLIDES_","localMedias","request","method","HTTP_VERBS","POST","uri","desync","syncUrl","split","LOCUS","SYNCDEBUG","GET","catch","err","reject","selfId","LEAVE","PUT","ALERT","CONTROLS","record","recording","paused","PATCH","lock","locked","DECLINE","reason","MEDIA","floorReq","disposition","FLOOR_ACTION","GRANTED","beneficiary","personUrl","devices","requester","floor","resourceUrl","tones","SEND_DTMF_ENDPOINT","dtmf","uuid","v4","layoutType","main","content","width","height","Error","renderInfoMain","renderInfoContent","layoutParams","renderInfo","layout","type","StatelessWebexPlugin"],"mappings":"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","sourcesContent":["import uuid from 'uuid';\nimport {debounce} from 'lodash';\nimport {StatelessWebexPlugin} from '@webex/webex-core';\n\nimport LoggerProxy from '../common/logs/logger-proxy';\nimport {\n  ALERT,\n  ALTERNATE_REDIRECT_TRUE,\n  CALL,\n  CONTROLS,\n  DECLINE,\n  FLOOR_ACTION,\n  HTTP_VERBS,\n  LEAVE,\n  LOCI,\n  LOCUS,\n  MEDIA,\n  PARTICIPANT,\n  SEND_DTMF_ENDPOINT,\n  _SLIDES_\n} from '../constants';\n\n/**\n * @class MeetingRequest\n */\nexport default class MeetingRequest extends StatelessWebexPlugin {\n  constructor(attrs, options) {\n    super(attrs, options);\n    this.changeVideoLayoutDebounced = debounce(this.changeVideoLayout, 2000, {leading: true, trailing: true});\n  }\n\n  /**\n   * Make a network request to join a meeting\n   * @param {Object} options\n   * @param {String} options.sipUri\n   * @param {String} options.deviceUrl\n   * @param {String} options.locusUrl\n   * @param {String} options.resourceId,\n   * @param {String} options.correlationId\n   * @param {boolean} options.ensureConversation\n   * @param {boolean} options.moderator\n   * @param {boolean} options.pin\n   * @param {boolean} options.moveToResource\n   * @param {Object} options.roapMessage\n   * @returns {Promise}\n   */\n  async joinMeeting(options) {\n    const {\n      sipUri, deviceUrl, locusUrl, resourceId, correlationId, ensureConversation, moderator, pin, moveToResource, roapMessage, preferTranscoding\n    } = options;\n\n    LoggerProxy.logger.info(\n      'Meeting:request#joinMeeting --> Joining a meeting',\n      correlationId\n    );\n\n    let url = '';\n\n    const body = {\n      device: {\n        url: deviceUrl,\n        deviceType: this.config.meetings.deviceType\n      },\n      usingResource: resourceId || null,\n      moveMediaToResource: resourceId && moveToResource || false,\n      correlationId,\n      respOnlySdp: true,\n      allowMultiDevice: true,\n      ensureConversation: ensureConversation || false,\n      supportsNativeLobby: 1,\n      clientMediaPreferences: {\n        preferTranscoding: preferTranscoding ?? true\n      }\n    };\n\n    if (this.webex.meetings.clientRegion) {\n      body.device.countryCode = this.webex.meetings.clientRegion.countryCode;\n      body.device.regionCode = this.webex.meetings.clientRegion.regionCode;\n    }\n\n    if (moderator !== undefined) {\n      body.moderator = moderator;\n    }\n\n    if (pin !== undefined) {\n      body.pin = pin;\n    }\n\n    if (locusUrl) {\n      url = `${locusUrl}/${PARTICIPANT}`;\n    }\n    else if (sipUri) {\n      try {\n        await this.webex.internal.services.waitForCatalog('postauth');\n        url = `${this.webex.internal.services.get('locus')}/${LOCI}/${CALL}`;\n        body.invitee = {\n          address: sipUri\n        };\n      }\n      catch (e) {\n        LoggerProxy.logger.error(`Meeting:request#joinMeeting --> ${e}`);\n        throw (e);\n      }\n    }\n\n    // TODO: -- this will be resolved in SDK request\n    url = url.concat(`?${ALTERNATE_REDIRECT_TRUE}`);\n\n    if (resourceId === sipUri) {\n      body.callPreferences = {\n        requestedMedia: [_SLIDES_]\n      };\n    }\n\n    if (roapMessage) {\n      body.localMedias = roapMessage.localMedias;\n    }\n\n    return this.request({\n      method: HTTP_VERBS.POST,\n      uri: url,\n      body\n    });\n  }\n\n  /**\n   * Syns the missed delta event\n   * @param {Object} options\n   * @param {boolen} options.desync flag to get partial or whole locus object\n   * @param {String} options.syncUrl sync url to get ht elatest locus delta\n   * @returns {Promise}\n   */\n  syncMeeting(options) {\n    /* eslint-disable no-else-return */\n    const {desync} = options;\n    let {syncUrl} = options;\n\n    /* istanbul ignore else */\n    if (desync) {\n      // check for existing URL parameters\n      syncUrl = syncUrl.concat(syncUrl.split('?')[1] ? '&' : '?').concat(`${LOCUS.SYNCDEBUG}=${desync}`);\n    }\n\n    return this.request({\n      method: HTTP_VERBS.GET,\n      uri: syncUrl\n    }) // TODO: Handle if delta sync failed . Get the full locus object\n      .catch((err) => {\n        LoggerProxy.logger.error(`Meeting:request#syncMeeting --> Error syncing meeting, error ${err}`);\n\n        return err;\n      });\n  }\n\n  /**\n   * Request to get the complete locus object\n   * @param {Object} options\n   * @param {boolen} options.desync flag to get partial or whole locus object\n   * @param {String} options.locusUrl sync url to get ht elatest locus delta\n   * @returns {Promise}\n   */\n  getFullLocus(options) {\n    let {locusUrl} = options;\n    const {desync} = options;\n\n    if (locusUrl) {\n      if (desync) {\n        locusUrl += `?${LOCUS.SYNCDEBUG}=${desync}`;\n      }\n\n      return this.request({\n        method: HTTP_VERBS.GET,\n        uri: locusUrl\n      }).catch((err) => {\n        LoggerProxy.logger.error(`Meeting:request#getFullLocus --> Error getting full locus, error ${err}`);\n\n        return err;\n      });\n    }\n\n    return Promise.reject();\n  }\n\n  /**\n   * Make a network request to leave a meeting\n   * @param {Object} options\n   * @param {Url} options.locusUrl\n   * @param {String} options.selfId\n   * @param {Url} options.deviceUrl\n   * @param {String} options.resourceId,\n   * @param {String} options.correlationId\n   * @returns {Promise}\n   */\n  leaveMeeting({\n    locusUrl, selfId, deviceUrl: url, resourceId, correlationId\n  }) {\n    LoggerProxy.logger.info(\n      'Meeting:request#leaveMeeting --> Leaving a meeting',\n      correlationId\n    );\n\n    const uri = `${locusUrl}/${PARTICIPANT}/${selfId}/${LEAVE}`;\n    const body = {\n      device: {\n        deviceType: this.config.meetings.deviceType,\n        url\n      },\n      usingResource: resourceId || null,\n      correlationId\n    };\n\n    return this.request({\n      method: HTTP_VERBS.PUT,\n      uri,\n      body\n    });\n  }\n\n  /**\n   * Make a network request to acknowledge a meeting\n   * @param {Object} options\n   * @param {String} options.locusUrl\n   * @param {String} options.deviceUrl\n   * @param {String} options.correlationId\n   * @returns {Promise}\n   */\n  acknowledgeMeeting(options) {\n    const uri = `${options.locusUrl}/${PARTICIPANT}/${ALERT}`;\n    const body = {\n      device: {\n        deviceType: this.config.meetings.deviceType,\n        url: options.deviceUrl\n      },\n      correlationId: options.correlationId\n    };\n\n    return this.request({\n      method: HTTP_VERBS.PUT,\n      uri,\n      body\n    });\n  }\n\n  /**\n   * Make a network request to acknowledge a meeting\n   * @param {Object} options\n   * @param {String} options.locusUrl\n   * @param {String} options.deviceUrl\n   * @param {String} options.id\n   * @returns {Promise}\n   */\n  recordMeeting(options) {\n    const uri = `${options.locusUrl}/${CONTROLS}`;\n    const body = {\n      record: {\n        recording: options.recording,\n        paused: options.paused\n      }\n    };\n\n    return this.request({\n      method: HTTP_VERBS.PATCH,\n      uri,\n      body\n    });\n  }\n\n  lockMeeting(options) {\n    const uri = `${options.locusUrl}/${CONTROLS}`;\n    const body = {\n      lock: {\n        locked: options.lock\n      }\n    };\n\n    return this.request({\n      method: HTTP_VERBS.PATCH,\n      uri,\n      body\n    });\n  }\n\n  /**\n   * Make a network request to decline a meeting\n   * @param {Object} options\n   * @param {String} options.locusUrl\n   * @param {String} options.deviceUrl\n   * @param {String} options.reason\n   * @returns {Promise}\n   */\n  declineMeeting(options) {\n    const uri = `${options.locusUrl}/${PARTICIPANT}/${DECLINE}`;\n    const body = {\n      device: {\n        deviceType: this.config.meetings.deviceType,\n        url: options.deviceUrl\n      },\n      ...(options.reason && {reason: options.reason})\n    };\n\n    return this.request({\n      method: HTTP_VERBS.PUT,\n      uri,\n      body\n    });\n  }\n\n  /**\n   * Toggle remote audio and/or video\n   * @param {Object} options options for toggling\n   * @param {String} options.selfId Locus self id??\n   * @param {String} options.locusUrl Locus url\n   * @param {String} options.deviceUrl Url of a device\n   * @param {String} options.resourceId Populated if you are paired to a device\n   * @param {String} options.localMedias local sdps\n   * @returns {Promise}\n   */\n  remoteAudioVideoToggle(options) {\n    const uri = `${options.locusUrl}/${PARTICIPANT}/${options.selfId}/${MEDIA}`;\n    const body = {\n      device: {\n        deviceType: this.config.meetings.deviceType,\n        url: options.deviceUrl\n      },\n      usingResource: options.resourceId || null,\n      correlationId: options.correlationId,\n      respOnlySdp: true,\n      localMedias: options.localMedias,\n      clientMediaPreferences: {\n        preferTranscoding: options.preferTranscoding ?? true\n      }\n    };\n\n    return this.request({\n      method: HTTP_VERBS.PUT,\n      uri,\n      body\n    });\n  }\n\n  /**\n   * change the content floor grant\n   * @param {Object} options options for floor grant\n   * @param {String} options.disposition floor action (granted/released)\n   * @param {String} options.personUrl personUrl who is requesting floor\n   * @param {String} options.deviceUrl Url of a device\n   * @param {String} options.resourceId Populated if you are paired to a device\n   * @param {String} options.uri floor grant uri\n   * @returns {Promise}\n   */\n  changeMeetingFloor(options) {\n    let floorReq = {disposition: options.disposition};\n\n    /* istanbul ignore else */\n    if (options.disposition === FLOOR_ACTION.GRANTED) {\n      floorReq = {\n        beneficiary: {\n          url: options.personUrl,\n          devices: [\n            {\n              deviceType: this.config.meetings.deviceType,\n              url: options.deviceUrl\n            }\n          ]\n        },\n        disposition: options.disposition,\n        requester: {\n          url: options.personUrl\n        }\n      };\n    }\n\n    return this.request({\n      uri: options.uri,\n      method: HTTP_VERBS.PUT,\n      body: {\n        floor: floorReq,\n        resourceUrl: options.resourceUrl\n      }\n    });\n  }\n\n  /**\n   * Sends a request to the DTMF endpoint to send tones\n   * @param {Object} options\n   * @param {String} options.locusUrl\n   * @param {String} options.deviceUrl\n   * @param {String} options.tones a string of one or more DTMF tones to send\n   * @returns {Promise}\n   */\n  sendDTMF({locusUrl, deviceUrl, tones}) {\n    return this.request({\n      method: HTTP_VERBS.POST,\n      uri: `${locusUrl}/${SEND_DTMF_ENDPOINT}`,\n      body: {\n        deviceUrl,\n        dtmf: {\n          correlationId: uuid.v4(),\n          tones\n        }\n      }\n    });\n  }\n\n  /**\n   * Sends a request to the controls endpoint to set the video layout\n   * @param {Object} options\n   * @param {String} options.locusUrl\n   * @param {String} options.deviceUrl\n   * @param {String} options.layoutType a layout type that should be available in meeting constants LAYOUT_TYPES\n   * @param {Object} options.main preferred dimensions for the remote main video stream\n   * @param {Number} options.main.width preferred width of main video stream\n   * @param {Number} options.main.height preferred height of main video stream\n   * @param {Object} options.content preferred dimensions for the remote content share stream\n   * @param {Number} options.content.width preferred width of content share stream\n   * @param {Number} options.content.height preferred height of content share stream\n   * @returns {Promise}\n   */\n  changeVideoLayout({\n    locusUrl, deviceUrl, layoutType, main, content\n  }) {\n    // send main/content renderInfo only if both width and height are specified\n    if (main && (!main.width || !main.height)) {\n      return Promise.reject(new Error(`Both width and height must be specified. One of them is missing for main: ${JSON.stringify(main)}`));\n    }\n\n    if (content && (!content.width || !content.height)) {\n      return Promise.reject(new Error(`Both width and height must be specified. One of them is missing for content: ${JSON.stringify(content)}`));\n    }\n\n    const renderInfoMain = (main) ? {width: main.width, height: main.height} : undefined;\n    const renderInfoContent = (content) ? {width: content.width, height: content.height} : undefined;\n\n    const layoutParams = (renderInfoMain || renderInfoContent) ?\n      {\n        renderInfo:\n        {\n          main: renderInfoMain,\n          content: renderInfoContent\n        }\n      } : undefined;\n\n    return this.request({\n      method: HTTP_VERBS.PUT,\n      uri: `${locusUrl}/${CONTROLS}`,\n      body: {\n        layout: {\n          deviceUrl,\n          type: layoutType,\n          layoutParams\n        }\n      }\n    });\n  }\n}\n"]}