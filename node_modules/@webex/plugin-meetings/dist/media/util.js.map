{"version":3,"sources":["util.js"],"names":["isBrowser","MediaUtil","createPeerConnection","window","RTCPeerConnection","RTC_CONFIGURATION_FIREFOX","RTC_CONFIGURATION","createMediaStream","tracks","LoggerProxy","logger","error","filtredTracks","filter","element","MediaStream"],"mappings":";;;;;;;;;;;;AACA;;AAEA;;AACA;;AAIA;;AARA;wBAUoB,gC;IAAbA,S,qBAAAA,S;;AAEP,IAAMC,SAAS,GAAG,EAAlB;;AAEAA,SAAS,CAACC,oBAAV,GAAiC;AAAA,SAAM,IAAIC,gBAAOC,iBAAX,CACrCJ,SAAS,CAAC,SAAD,CAAT,GAAuBK,oCAAvB,GAAmDC,4BADd,CAAN;AAAA,CAAjC;;AAIAL,SAAS,CAACM,iBAAV,GAA8B,UAACC,MAAD,EAAY;AACxC,MAAI,CAACA,MAAL,EAAa;AACXC,yBAAYC,MAAZ,CAAmBC,KAAnB,CAAyB,sDAAzB;AACD;;AACD,MAAMC,aAAa,GAAGJ,MAAM,CAACK,MAAP,CAAc,UAACC,OAAD;AAAA,WAAa,CAAC,CAACA,OAAf;AAAA,GAAd,CAAtB;AAEA,SAAO,IAAIC,WAAJ,CAAgBH,aAAhB,CAAP;AACD,CAPD;;eASeX,S","sourcesContent":["/* globals MediaStream */\nimport window from 'global/window';\n\nimport BrowserDetection from '../common/browser-detection';\nimport {\n  RTC_CONFIGURATION,\n  RTC_CONFIGURATION_FIREFOX\n} from '../constants';\nimport LoggerProxy from '../common/logs/logger-proxy';\n\nconst {isBrowser} = BrowserDetection();\n\nconst MediaUtil = {};\n\nMediaUtil.createPeerConnection = () => new window.RTCPeerConnection(\n  isBrowser('firefox') ? RTC_CONFIGURATION_FIREFOX : RTC_CONFIGURATION\n);\n\nMediaUtil.createMediaStream = (tracks) => {\n  if (!tracks) {\n    LoggerProxy.logger.error('Media:util#createMediaStream --> Tracks don\\'t exist');\n  }\n  const filtredTracks = tracks.filter((element) => !!element);\n\n  return new MediaStream(filtredTracks);\n};\n\nexport default MediaUtil;\n"]}