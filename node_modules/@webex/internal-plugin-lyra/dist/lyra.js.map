{"version":3,"sources":["lyra.js"],"names":["Lyra","WebexPlugin","extend","namespace","children","space","Space","device","Device","getAdvertisedEndpoint","token","webex","request","method","api","resource","qs","then","res","body"],"mappings":";;;;;;;;;;;;AAIA;;AAEA;;AACA;;AAPA;AACA;AACA;AAOA,IAAMA,IAAI,GAAGC,uBAAYC,MAAZ,CAAmB;AAC9B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,SAAS,EAAE,MAlBmB;AAmB9BC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,KAAK,EAAEC,cADC;AAERC,IAAAA,MAAM,EAAEC;AAFA,GAnBoB;;AAwB9B;AACF;AACA;AACA;AACA;AACEC,EAAAA,qBA7B8B,iCA6BRC,KA7BQ,EA6BD;AAC3B,WAAO,KAAKC,KAAL,CAAWC,OAAX,CAAmB;AACxBC,MAAAA,MAAM,EAAE,KADgB;AAExBC,MAAAA,GAAG,EAAE,WAFmB;AAGxBC,MAAAA,QAAQ,EAAE,4BAHc;AAIxBC,MAAAA,EAAE,EAAE;AACFN,QAAAA,KAAK,EAALA;AADE;AAJoB,KAAnB,EAQJO,IARI,CAQC,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAb;AAAA,KARD,CAAP;AASD,GAvC6B;AAAA;AAAA,CAAnB,CAAb;;eA2CenB,I","sourcesContent":["/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {WebexPlugin} from '@webex/webex-core';\n\nimport Space from './space';\nimport Device from './device';\n\nconst Lyra = WebexPlugin.extend({\n  /**\n   * @typedef {Object} Endpoint\n   * @property {Object} advertiser\n   * @property {string} advertiser.id\n   * @property {string} advertiser.displayName\n   * @property {string} advertiser.orgId\n   * @property {Object} links\n   * @property {Object} links.addMeToSpace\n   * @property {string} links.addMeToSpace.href\n   * @property {string} links.addMeToSpace.method\n   * @property {Object} links.lyra_space\n   * @property {string} links.lyra_space.href\n   * @property {string} links.lyra_space.method\n   * @property {string} proof\n   * @property {Object} token\n   * @property {string} token.value\n   */\n  namespace: 'Lyra',\n  children: {\n    space: Space,\n    device: Device\n  },\n\n  /**\n   * Get the endpoint information\n   * @param {string} token - ultrasound token decoded\n   * @returns {Promise<Endpoint>}\n   */\n  getAdvertisedEndpoint(token) {\n    return this.webex.request({\n      method: 'GET',\n      api: 'proximity',\n      resource: '/ultrasound/advertisements',\n      qs: {\n        token\n      }\n    })\n      .then((res) => res.body);\n  }\n});\n\n\nexport default Lyra;\n"]}